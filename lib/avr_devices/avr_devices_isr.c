// -----------------------------------------------------------------------------
// Autogenerated AVR device isr table from atdf files
// -----------------------------------------------------------------------------
#include <stddef.h>
#include "avr_devices_isr.h"

const avr_device_isr_t avr_devices_isr[] = {
  {0x1e9005, 0x04, 128, 10, 0x04, 64, 20 },
  {0x1e9006, 0x04, 128, 10, 0x04, 64, 20 },
  {0x1e9007, 0x41, 32, 10, 0x41, 4, 5 },
  {0x1e9108, 0x41, 32, 10, 0x41, 4, 5 },
  {0x1e9109, 0x21, 16, 10, 0x04, 64, 20 },
  {0x1e910a, 0x41, 32, 10, 0x41, 4, 6 },
  {0x1e910b, 0x41, 32, 10, 0x41, 4, 10 },
  {0x1e910c, 0x41, 32, 10, 0x41, 4, 10 },
  {0x1e9205, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e9206, 0x41, 64, 10, 0x41, 4, 5 },
  {0x1e9207, 0x41, 64, 10, 0x41, 4, 10 },
  {0x1e9208, 0x41, 64, 10, 0x41, 4, 10 },
  {0x1e9209, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e920a, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e920c, 0x41, 64, 10, 0x41, 4, 10 },
  {0x1e920d, 0x41, 32, 10, 0x41, 4, 6 },
  {0x1e9210, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e9215, 0x41, 16, 10, 0x41, 4, 10 },
  {0x1e9306, 0x21, 64, 10, 0x04, 128, 20 },
  {0x1e9307, 0x21, 64, 10, 0x04, 128, 20 },
  {0x1e9308, 0x21, 64, 10, 0x04, 128, 20 },
  {0x1e930a, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e930b, 0x41, 64, 10, 0x41, 4, 5 },
  {0x1e930c, 0x41, 64, 10, 0x41, 4, 10 },
  {0x1e930d, 0x41, 64, 10, 0x41, 4, 10 },
  {0x1e930f, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e9310, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9311, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e9314, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e9315, 0x41, 16, 10, 0x41, 4, 10 },
  {0x1e9316, 0x41, 64, 10, 0x41, 4, 20 },
  {0x1e9381, 0x41, 64, 10, 0x41, 4, 5 },
  {0x1e9382, 0x41, 128, 6, 0x41, 4, 20 },
  {0x1e9383, 0x41, 64, 10, 0x41, 4, 5 },
  {0x1e9387, 0x41, 64, 10, 0x41, 4, 10 },
  {0x1e9388, 0x41, 64, 10, 0x41, 4, 5 },
  {0x1e9389, 0x41, 128, 6, 0x41, 4, 20 },
  {0x1e9403, 0x21, 128, 10, 0x04, 128, 20 },
  {0x1e9404, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9405, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9406, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9407, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e940a, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e940b, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e940c, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e940d, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e940f, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9410, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9411, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9412, 0x41, 32, 10, 0x41, 4, 20 },
  {0x1e9415, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9482, 0x41, 128, 6, 0x41, 4, 20 },
  {0x1e9483, 0x41, 64, 10, 0x41, 4, 5 },
  {0x1e9484, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9487, 0x41, 64, 10, 0x41, 4, 10 },
  {0x1e9488, 0x41, 128, 6, 0x41, 4, 20 },
  {0x1e9489, 0x41, 128, 6, 0x41, 4, 20 },
  {0x1e948B, 0x41, 64, 10, 0x41, 4, 5 },
  {0x1e9502, 0x21, 64, 10, 0x04, 64, 20 },
  {0x1e9503, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9504, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9505, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9506, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9508, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e950b, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e950c, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e950d, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e950e, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e950f, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9510, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9511, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9514, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9515, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9516, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9517, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9581, 0x41, 256, 10, 0x41, 8, 20 },
  {0x1e9584, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9586, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9587, 0x41, 128, 6, 0x41, 4, 20 },
  {0x1e958a, 0x41, 128, 6, 0x41, 4, 20 },
  {0x1e9602, 0x21, 128, 10, 0x04, 64, 20 },
  {0x1e9603, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9604, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9605, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9606, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9608, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e9609, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e960C, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e960D, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e960a, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e960b, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e960e, 0x41, 128, 10, 0x41, 4, 10 },
  {0x1e9610, 0x41, 128, 10, 0x41, 4, 20 },
  {0x1e9681, 0x41, 256, 10, 0x41, 8, 20 },
  {0x1e9682, 0x41, 256, 6, 0x41, 8, 10 },
  {0x1e9684, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e9686, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e9702, 0x21, 128, 10, 0x04, 64, 20 },
  {0x1e9703, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e9704, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e9705, 0x41, 128, 10, 0x41, 8, 10 },
  {0x1e9706, 0x41, 128, 10, 0x41, 8, 10 },
  {0x1e9781, 0x41, 256, 10, 0x41, 8, 20 },
  {0x1e9782, 0x41, 256, 6, 0x41, 8, 10 },
  {0x1e9801, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1e9802, 0x41, 256, 10, 0x41, 8, 10 },
  {0x1ea602, 0x41, 256, 50, 0x41, 8, 50 },
  {0x1ea603, 0x41, 256, 50, 0x41, 8, 50 },
  {0x1ea701, 0x41, 256, 50, 0x41, 8, 50 },
  {0x1ea702, 0x41, 256, 50, 0x41, 8, 50 },
  {0x1ea703, 0x41, 256, 50, 0x41, 8, 50 },
  {0x1ea802, 0x41, 256, 50, 0x41, 8, 50 },
  {0x1ea803, 0x41, 256, 50, 0x41, 8, 50 }
};

const avr_device_isr_t avr_unknown_isr[] = {
    {0x000000, 0x00, 32, 50, 0x00, 4, 50}};

static const uint8_t avr_device_isr_count = sizeof(avr_devices_isr) / sizeof(avr_devices_isr[0]);

const avr_device_isr_t *current_device_isr = avr_unknown_isr;

void avr_device_isr_set_current_device(uint32_t signature)
{

    if ((signature & 0x00FF0000) != 0x001e0000 ) {
        current_device_isr = avr_unknown_isr;
        return;
    }

    // Simple linear search is fast enough for < 200 entries
    for (int i = 0; i < avr_device_isr_count; i++)
    {
        if (avr_devices_isr[i].signature == signature)
        {
            current_device_isr = &avr_devices_isr[i];
            return;
        }
    }
    // If not found, revert to safe defaults
    current_device_isr = avr_unknown_isr;
};
